message("\t\t+ thread")

sdk_generate_library(thread)

sdk_ifndef(CONFIG_THREAD_DISABLE_PRINT false)


if(${${CONFIG_THREAD_DISABLE_PRINT}})
    add_definitions(-DOPENTHREAD_CONFIG_LOG_OUTPUT=OPENTHREAD_CONFIG_LOG_OUTPUT_NONE)
else
    add_definitions(-DOPENTHREAD_CONFIG_LOG_LEVEL=OT_LOG_LEVEL_DEBG)
    add_definitions(-DOPENTHREAD_CONFIG_LOG_LEVEL_INIT=OT_LOG_LEVEL_NONE)
    add_definitions(-DOPENTHREAD_CONFIG_LOG_LEVEL_DYNAMIC_ENABLE=1)
endif()

add_definitions(
    -D__int64_t_defined=1
    -DPACKAGE_NAME=\"OPENTHREAD\"
    -DPACKAGE_VERSION=\"2ce3d3bf0\"
    -DMBEDTLS_CONFIG_FILE=\"mbedtls-config.h\"
    -DOPENTHREAD_CONFIG_MAC_SOFTWARE_ACK_TIMEOUT_ENABLE=0
    -DOPENTHREAD_CONFIG_MAC_SOFTWARE_RETRANSMIT_ENABLE=1
    -DOPENTHREAD_CONFIG_MAC_SOFTWARE_CSMA_BACKOFF_ENABLE=0
    -DOPENTHREAD_CONFIG_MAC_SOFTWARE_TX_SECURITY_ENABLE=1
    -DOPENTHREAD_CONFIG_MAC_SOFTWARE_TX_TIMING_ENABLE=1
    -DOPENTHREAD_CONFIG_MAC_SOFTWARE_ENERGY_SCAN_ENABLE=1
    #-DOT_CLI_UART_LOCK_HDR_FILE=\"openthread_port.h\"
    -DOPENTHREAD_EXAMPLES_SIMULATION=0
    -DOPENTHREAD_CONFIG_IP6_SLAAC_ENABLE=1
    -DOPENTHREAD_CONFIG_THREAD_VERSION=3
    -DOPENTHREAD_CONFIG_PLATFORM_USEC_TIMER_ENABLE=0
    -DOPENTHREAD_CONFIG_ECDSA_ENABLE=1
    -DOPENTHREAD_CONFIG_SRP_CLIENT_ENABLE=1
    -DOPENTHREAD_CONFIG_SRP_CLIENT_AUTO_START_API_ENABLE=1
    -DOT_FREERTOS_ENABLE=1
    -DOPENTHREAD_ENABLE_NCP_VENDOR_HOOK=0
    -DOPENTHREAD_PLATFORM_POSIX=0
    -DOPENTHREAD_POSIX=0
    -DOPENTHREAD_ENABLE_VENDOR_EXTENSION=0
    #-DOPENTHREAD_CONFIG_PLATFORM_FLASH_API_ENABLE=1
    -Wimplicit-fallthrough=0 -Wno-switch-default
)

