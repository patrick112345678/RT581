ZBOSS SDK release notes



09/30/2020 monthly build

Improvement

    [ZOI-180] - Stabilization for September's release

New Feature

    [ZOI-84] - ZBOSS secur stmt: "ED timeout request" keepalive
    [ZOI-144] - Build Zigbee PRO R22 test firmware for NCS platform
    [ZOI-148] - [ZBOSS] Green Power Combo as a separate library

Task

    [ZOI-99] - Rework conditionals in dev guide and API docs
    [ZOI-139] - [ZBOSS] Separation GPPB and GPCB libraries

Bug

    [ZOI-80] - The value returned by zb_bdb_is_factory_new() is not updated
    [ZOI-93] - ED Timeout keepalive method disables polling for rx_off end device
    [ZOI-94] - No packet sending between two local EPs in one group
    [ZOI-102] - The ZB_ZCL_DECLARE_POWER_CONFIG_ATTRIB_LIST() causes compilation errors
    [ZOI-137] - Device gets kicked out of the network if it does not finish the first association
    [ZOI-145] - Memory corruption in ZCL callback
    [ZOI-147] - ZB_ZDO_SIGNAL_DEVICE_AUTHORIZED is not generated for legacy devices
    [ZOI-168] - ZBOSS generates malformed packets if it receives a Route Request with an extended destination address
    [ZOI-170] - Fix unknown device type for neighbour
    [ZOI-171] - End device generates invalid network address request if application tries to communicate with an unreachable device



08/31/2020 monthly build

New Feature

    [ZOI-138] - [ZBOSS] Green Power Update (v1.1)

Task

    [ZOI-71] - [API docs] Add details documentation for ZGP API
    [ZOI-115] - [SNCP] Update monolythic C tests for standalone NCP
    [ZOI-116] - [SNCP] Port RPi SPI transport from svn to ZOI codebase
    [ZOI-117] - [SNCP] Port Manufacturer mode from svn codebase
    [ZOI-118] - [SNCP] Improve NCP LL library API documentation
    [ZOI-119] - [SNCP] Optimize SNCP flash usage by cutting features
    [ZOI-120] - [SNCP] Rework python tests set
    [ZOI-121] - [SNCP] Change commands blocking logic
    [ZOI-122] - [SNCP] "expose all keys" debug feature
    [ZOI-134] - [SNCP] Save device role and rx-on-when-idle in NVRAM in NCP mode
    [ZOI-136] - [SNCP] Add into ZOI codebase OTA file generation tool from svn

Question

    [ZOI-96] - Changes in AF API, zb_af_set_data_indication

Bug

    [ZOI-55] - Unable to build ZBOSS without TRACES
    [ZOI-95] - An issue with reporting between two local EPs
    [ZOI-104] - Bug in zb_bdb_reset_via_local_action() function
    [ZOI-111] - Using more than 10 entries of reporting configuration leads to NVRAM corruption
    [ZOI-113] - Corrupted firmware pointer in OTA handler
    [ZOI-123] - ZC can change its address during conflict resolution
    [ZOI-124] - [SNCP] Compiler warnings fix
    [ZOI-125] - Wrong implementetion of endian conversion in NWK for BE machine
    [ZOI-126] - [SNCP] Sync rx on/off with MAC after setting via NCP
    [ZOI-127] - More ZED role runtime checks
    [ZOI-128] - [SNCP] Indicate address update after address conflict in ZED role
    [ZOI-129] - [SNCP] Sniffer mode does not work
    [ZOI-130] - No APSDE-DATA.conf after sending APS packet to myself via binding
    [ZOI-131] - [SNCP] Unnecessary alarms waking NCP in ZED mode
    [ZOI-132] - [SNCP] Reduce buffers used by NCP LL
    [ZOI-133] - Non-sleepy ZED drops Device Annce
    [ZOI-135] - [SNCP] Update ZDO descriptors after changing rx-on


07/30/2020 monthly build

Improvement

    [ZOI-51] - New look to Makefiles in mk/xxx dirs
    [ZOI-79] - Get rid of ZB_SCHEDULE_APP_ALARM_CANCEL_AND_GET_BUF.

New Feature

    [ZOI-105] - NCP Host: Exclude NVRAM from PoC
    [ZOI-106] - NCP Host: Create NCP Host build
    [ZOI-107] - NCP Host: Implement BDB commissioning
    [ZOI-108] - NCP Host: Implement commands serialization (partially)
    [ZOI-109] - NCP Host: Compile On/Off sample
    [ZOI-110] - NCP Host: Run On/Off sample

Task

    [ZOI-62] - [API docs] Improve the documentation of ZB_ZCL_ATTR_ACCESS_WRITE_OPTIONAL flag
    [ZOI-64] - [API docs] Add table for clusters/callbacks

Bug

    [ZOI-46] - Frame counters are not reset after NWK key exchange
    [ZOI-63] - Address unlock issue for ZDO MGMT Leave req
    [ZOI-72] - [API docs] TRACE_DATA_FORMAT_ADDITIONAL is not added to group
    [ZOI-75] - Fix if and cond number mismatch in API headers
    [ZOI-101] - The ZDO_MATCH_DESC_REQ NCP command's response does not contain responder's short address


06/30/2020 monthly build

Improvement

    [ZOI-31] - Extend serial with asynchronous/buffered API
    [ZOI-32] - Reduce the number of NCP transport interfaces

New Feature

    [ZOI-34] - Add serial transport for NCP - SoC side

Task

    [ZOI-2] - Preparing codebase for Nordic team usage
    [ZOI-3] - Prepare Confluence documentation for sharing and set up permissions.
    [ZOI-4] - Prepare CI for ZOI
    [ZOI-6] - Set up Jira accounts for the teams
    [ZOI-11] - Major
    [ZOI-39] - NCS platform support in ZOI
    [ZOI-69] - Binding to the wrong cluster is possible.
    [ZOI-70] - [API docs] test

Sub-task

    [ZOI-12] - MAJOR Broken sending fragmented frame via binding

Bug

    [ZOI-13] - The usage of channel_mask inside production config
    [ZOI-14] - HTTPS not available at zoi home page
    [ZOI-16] - Periodic reporting attributes does not work if binding performed after reporting max interval
    [ZOI-19] - Unable to define ZB_MAC_GET/SET_RSSI from platform_mac.h file
    [ZOI-20] - Compile time issue once ZB_MAC_RX_QUEUE_CAP is disabled
    [ZOI-28] - Suspicious authorization signals
    [ZOI-35] - Can't configure reporting on multi-endpoint device
    [ZOI-36] - Unable to compile ZR-only role if APS fragmentation is enabled
    [ZOI-38] - Unable to compile ZC_only role due to linker issues
    [ZOI-42] - internals_doc visible for some API elements
    [ZOI-43] - API docs: Typos in documentation
    [ZOI-44] - ZCL Occupancy Sensing cluster implementation seems to be missing
    [ZOI-60] - Network permits new devices after device leave
    [ZOI-73] - It is impossible to initialize both Control4 cluster and Power Config Cluster
    [ZOI-76] - Fix zb_config.h API doc issues
    [ZOI-78] - BDB status not cleaned by Leave or Factory Reset after F&B target start


03/16/2020 (3.2.x.76)
 - Added to Time cluster synchronization api
 - Increased scheduler queue size

02/21/2020 (3.3.x.4)
- ZB_CONTROL4_NETWORK_SUPPORT enabled to activate the Control4 API and cluster. 
- Process packets with Control4 profileID from multiply endpoints to internal Control4 endpoint.
- Control4 Cluster improvements.

02/21/2020 (3.3.x.3)
- Don't check APS dups for commands (ZB-114).
- Fixed ZBOSS key generation routine (ZB-116).
- Changed structure of the doxygen documentation. Replaced 'name' parts with 'groups' parts.
- Added doxygen grouping for NWK section
- Added doxygen grouping for AF section in API reference. 
- Moved code parts in zb_trace.h, regrouped it. Added condition DSR_TRACE.
- Replaced references to snippet file folder with references to application folder.
- Fixed snippet in zboss_api_zgp.h
- Added snippet from tests/zgp/gppb/test_gps_decommissioning/dut_gps.c
- Fixed snippets in ha/zb_ha_level_control_switch.h
- Added snippets from samples/ha/devices_generic/ha_level_control_switch_sample.c
- Fixed typos in zb_config.h.
- Minor changes in zb_bdb_set_legacy_device_support documentation.
- Fix grouping in zb_trace.h

12/19/2019 (3.2.x.75)
 - Updated duty cycle to 1%
 - Fixed Sub-GHz cluster Suspend command usage on duty cycle limits exceeding

12/13/2019 (3.2.x.74)
 - Added API to initialize Zigbee 3.0 coordinator with channel list mask
 - Added API to initialize Zigbee 3.0 end device with channel list mask
 - Enabled Sub-GHz cluster with Home Automation Profile in Sub-GHz mode
 - Core stability fixes

12/12/2019 (3.3.x.2)
- Production release: R22 ZBOSS SDKs for GCC, IAR and KEIL. Zigbee PRO+GPPB certified for nRF52833 and nRF52840. 
- Stop the frame retransmission on NWK after the parent loss (ZB-91).
- zdo_wwah_stubs.h removed from the public headers. (ZB-96).
- Fixed trace and TRACE_FILE_IDs (ZB-95).
- zb_set_installcode_policy now avaliable for all Zigbee roles (ZB-97).
- BDB initialization fix: don't send permit_join_request after the rejoin (ZB-98).
- Fixed Window Covering Device ID (ZB-90).
- Fixed communication with devices that doesn't include the extended source address into the NWK payload (ZB-102).
- Fixed bugs in documentation: ZB-29, ZB-100, ZB-33, ZB-34, ZB-40, ZB-41, ZB-36, ZB-37, ZB-42, ZB-39,ZB-38.

11/08/2019 (3.2.x.5)
- Engineering release: R22 ZBOSS SDKs
- Fixed bugs in code: ZB-84, ZB-80, ZB-89, ZB-88, ZB-47

10/24/2019 (3.2.x.4)
- Engineering release: R22 ZBOSS SDKs
- Fixed bugs in code: ZB-59, ZB-73, ZB-65, ZB-63, ZB-82, ZB-79, ZB-62, ZB-77, ZB-68, ZB-83, ZB-66, ZB-78, ZB-86, ZB-51, ZB-57, ZB-70, ZB-75, ZB-72
- Fixed bugs in documentation: ZB-33, ZB-34, ZB-32, ZB-40, ZB-41,

09/06/2019 (3.2.x.3)
- Engineering release: R22 ZBOSS SDKs

09/06/2019 (3.2.x.2)
- Engineering release: R22 ZBOSS SDKs

10/07/2019 (3.1.x.74)
- Fixed Route Record command hadling in the case of enabled security
- Enable source routing table by default

09/04/2019 (3.1.x.73)
- ZBOSS API:added Transport Key APS encryption API functions (zb_disable_transport_key_aps_encryption(), zb_enable_transport_key_aps_encryption(), zb_is_transport_key_aps_encryption_enabled())
- Fixed drop packets with NWK header Suppress Route Discovery flag along the active route

08/16/2019 (3.1.x.72)
- Added APS-unencrypted transport key feature

07/16/2019 (3.1.x.70)
- Fix for the Unbind command. In case of several bind records, inside the unbind command handler aps.binding.dst_table was corrupted.
- zb_zdo_device_is_unreachable(): disable for parent in ZED role (use parent link failure instead).
- zb_secur_nwk_status(): remove unsecure_frame_attempt check.
- Added fast poll during TCLK.
- Added protectin from 2 parallel TCLKs, finish TCLK processing properly on CONFIRM_KEY with SECURITY_FAIL.
- Fixed MAX ZCL payload size
- Fixed Node Descriptor Server Mask comparation. 
- Fixed documentation (16048), zb_zcl_add_cluster_handlers comments, added aps_user_payload doxygen group.
- To assess the APS payload size zb_aps_get_aps_payload() changed to  zb_uint8_t *zb_aps_get_aps_payload(zb_uint8_t param, zb_uint8_t *aps_payload_size).
- zb_aps_get_aps_payload() can be used both on the TX (user_data_tx_cb) and RX (data_indication) side to get access to the APS payload. See light_sample_aps_user_payload.
- Buffer identifier param does not changes between zb_aps_send_user_payload() and user_data_tx_cb() so it can be used as a unique packet ID to distinguish TX results for several packets.
- Return correct TX status in case if no APS acknowledgements received. Added enum with TX status constants (zb_aps_custom_payload_cb_status_t).
- To avoid parallel packet processing that's up to the application logic to reuse or free the buffer returned in the user_data_tx_cb. Stack core will not process this packet, so if the application will not free or reuse this buffer, it will cause memory leakage.
- zb_aps_set_cb_to_send_user_payload() renamed to zb_aps_set_user_data_tx_cb().

06/25/2019 (3.1.x.68)
- Added functions that disables/enables NWK security.

05/17/2019 (3.1.x.67 updated)
- Fix network steering attempt after reset to factory defaults. (Bug 15914)
- Call application cb for APS data before stack handling, return status from application cb (Bug 14941)
- Router startup: disable legacy behavior of enabling Association Permit during startup.
- ZCL Thermostat: fixes in check_attr_value for MIN_SETPOINT_DEAD_BAND, MIN_HEAT_SETPOINT_LIMIT, MAX_HEAT_SETPOINT_LIMIT, MIN_COOL_SETPOINT_LIMIT, MAX_COOL_SETPOINT_LIMIT.
- ZCL Alarms: fix handling of Reset Alarm and Reset All Alarms, remove optional Alarms Count attribute and optional Alarams Table implementation.
- Fixed races between device_autorized signals in case when bdb_link_key_transport_with_alarm is used (Bug 14537).
- Fixed misalignments. (Bug 15915) 
- Fixed Occupancy attribute values. (Bug 15929)
- Fixed inconsitent trace in scenes cluster. (Bug 15888)
- Fixed documentation. (Bugs 15978, 15925)


05/17/2019 (3.1.x.67)
- Fixed NVRAM transactions in APS binding table operations. (Bug 15056)
- Added NVRAM migration for APS binding tables.(Bug 15056)
- Fixed radio sleep state during joining a network.
- Fixed mgmt_leave alorithm in case if the mgmt leave resp is not validated.
- Added ZB_ZDO_SIGNAL_DEVICE_UPDATE and ZB_ZDO_SIGNAL_DEVICE_AUTHORIZED signals.(Bug 14537)
- Buf pool size increased for the minimal memory configuration. (Bug 13152)
- ZB_ZGP_PROXY_TBL_SIZE value set to 5 to fit the GPPB requirements. (Bug 15656)
- Fixed races between Leave and Link Status.

- ZCL: divided client and server for check_attr_value and write_attr_hook.
- ZCL: added cluster_role parameter to zb_zcl_app_check_attr_value_cb_t.
- ZCL: Fixed GLOBAL_CLUSTER_VERSION reading.
- ZCL: Added optional fields in time and on/off clusters.
- ZCL: Time cluster Removed ZB_ZCL_TIME_SET_REAL_TIME_CLOCK_CB.
- ZCL: Removed the following macros: ZB_ZCL_DECLARE_LEVEL_CONTROL_ATTRIB_LIST_EXT_WITH_OPTIONS, ZB_ZCL_DECLARE_ON_OFF_ATTRIB_LIST_EXT_WITH_START_UP_ON_OFF,
  ZB_ZCL_LEVEL_CONTROL_GET_MOVE_TO_LEVEL_WITH_OPTIONS_FIELDS_CMD.
- ZCL: Fixed On/Off cluster commands logic.
- ZCL: Removed legacy limitation for tunnel size in the Tunneling Cluster.
- ZCL: Fixes for bugs fund during testing against ZTT. Details is a separate document.
-- Configure Default Reporting - for all attributes which supports reporting - automatically: MinInterval = 5sec, MaxInterval = 0sec (no periodic reports), Delta (analog attributes) = 0
-- Fix more cases for GLOBAL_CLUSTER_REVISION attribute - Write Attr, Discover Supported Attr, Configure Reporting
-- Fix Attributes:
--- Diagnostic: LastMessageRSSI (type U8 -> S8)
--- Thermostat: StartOfWeek (access RW -> R)
-- Level Control:
--- Support OptionsMask/OptionsOverride
--- Answer with Default Response after command received (not after command execution)
--- Fix wrong calculations in some cases
-- Groups:
--- Fix Get Group Membership handler
-- Scenes:
--- Return app status from Recall Scene
-- Color Control:
--- Support OptionsMask/OptionsOverride
--- Answer with Default Response after command received (not after command execution)
--- Fix Step Saturation payload (Transition Time - 1 byte)
--- Fix Move Color Temperature - limit value with ColorTempPhysicalMinMireds/ColorTempPhysicalMaxMireds
--- Stop previous movement before starting Step Color Temperature
--- Switch to HueSaturation mode before starting Color Loop
--- Fix Hue recalculation when switching Color Mode from XY to HueSaturation
-- Time:
--- Add Time calculation for Standard Time and Local Time (write_attr_hook)
-- Alarms:
--- Fix Reset Alarm and Reset All Alarms handlers (operations with alarm table)
-- Thermostat:
--- Add DeadBand attribute (and corresponding check_value)

- HA samples updated due to the API modifications.

- OTA: send Default Resp with NO_IMAGE_AVAILABLE instead of Image Block Resp with ABORT. (Bug 15034)
- OTA: removed stack-release version comparsion, manufacturer code added to zb_zcl_ota_upgrade_srv_query_img_param_t. (Bug 14972)
- OTA: Fixed OTA Query Jitter generation. (Bug 15128)
- OTA: drop the new block (instead of assert) if we already have pending block. (Bug 15343)
- OTA: Added app status verification before accepting image. (Bug 15599)
- OTA: Fixed comparison in Macro ZB_ZCL_OTA_UPGRADE_GET_QUERY_NEXT_IMAGE_REQ. (Bug 15733)

- ZBOSS API: deleted zb_set_nvram_erase_at_reset function. (Bug 14607)
- ZBOSS API: zb_af_set_data_indication() moved to public API. (Bug 14941)
- ZBOSS API: Added zb_bdb_reset_via_local_action() for the local reset to factory defaults (Bug 14552)
- ZBOSS API: Added functions to configure NBT threshold and timeout. Implemented long address resolution for binding table. (Bug 14615)

- Documentation fixes for bugs: 15278, 15270, 14566, 14497, 14993, 14999, 15234, 12447, 14552, 14736

03/21/2019 (3.1.x.66)
- HA-related API removed from all clusters.
- Finding and Binding stability fix for handling two Identify Query Responses from the same node. (Bug 13146)
- Fixed sending selfie APS frames. (Bug 14939)
- Fixed application callback call if the identification is cancelled. (Bug 14951)
- Fixed interrupts enable/disable mismatch. (Bug 14315)
- Fixes in documentation. (Bugs 14497, 14566, 14618, 14993)


03/12/2019 (3.1.x.65)
- Removed HA-related Identify cluster API. 
- Minimum interval for the ZCL reporting feature can be set to Zero.
- Fixed OTA upgrade time calculation
- Long Poll interval set/get functions moved to public API
- Fixed Write Attributes and Write Attributes Undivided commands
- Implemented automatic start of identification procedure on writing IdentifyTime attribute
- Fixed configurable binding table size 
- Doxygen documentation updates


02/19/2019 (3.1.x.63)
 - Fixed internal attribute access types
 - Custom attribute IDs changed according the ZCL specification
 - Fixed unsuccessful rejoin response sending
 - Fixed radio sleep mode between MAC retransmits
 - Auto ACKs disabled in OOM state
 - Added delay before sending the ED timeout request command to finish flash access operations
 - Added ZB_NWK_SIGNAL_NO_ACTIVE_LINKS_LEFT signal
 - Fixed ED aging, router does not crash in case of loosing link to the coordinator
 - Fixed rejoin after failed Dev_Annce transmission
 - Fixes in configurable memory: aligned data structures
 - Global Cluster Revision attribute added for all clusters
 - APS binding table size is now configurable
 - Added API to change the standard distributed key and to configure the distributed network security
 - Fixed Profile ID Endpoint Matching rules
 - Added API to enable the installcode policy
 - Fixes in Finding&Binding
 - Fixes in documentation
 - Fixed errors in Zigbee trace params
 - Core stability fixes

Known issues:
 - The F&B Initiator drops out of the network if two Identify Query Reponses from the same node, but different endpoints are received.

02/19/2019 (3.2.1.1)
- Second release of NCP at TI CC1352, 2.4GHz only, sleepy ZED and CBKE supported

12/29/2018 (3.2.1.0)
- Proof Of Concept release of NCP at TI CC1352, 2.4 only

11/30/2018 (3.2.x.60)
=====================
- Stability fixes

09/19/2018 (3.1.x.61)
 - Fixed rejoin in case of the unsuccessful transmission of Dev_annce or Permit_join
 - Fixed Finding&Binding between HA and ZLL profiles
 - Added status codes to the  ZB_BDB_SIGNAL_FINDING_AND_BINDING_INITIATOR_FINISHED signal
 - Identify timeout decreased to 9 seconds
 - Added function to interrupt Finding&Binding on the initiator's side
 - Implemented configurable binding table size
 - Fixed false detection of the PAN ID conflict due to wrong parsing of the Beacon Frame
 - Fixed assert in the NWK ED aging timeout
 - NVRAM logic fixes
 - Added cluster version attribute declaration in the cluster client role.
 - Added API to set the Global Link Key for the distributed security networks
 - Core stability fixes

09/19/2018 (3.1.x.59)
- Fixed incorrect application Leave signal in case of missed Transport key frame
- Memory configuration fixes
- Simple gw application: stability fixes: handling error cases, start finding/binding after device annce received, removing device from the context. Achived stable work in the big test setup
- Ias zone device stability fixes
- Removed unused parameter in GetLastMessage command (Messaging cluster)
- Fixed tuneeling cluster logic
- Added SE_test_sample
- Big network stability fixes: scheduling of the broadcast transmissions, removed reboot when the OOM state stays longer than a threshold, removed network address requests to the device when it change it's parent
- Fixed OTA asserts
- Fixed ZB_HA_DECLARE_TEST_DEVICE_CLUSTER_LIST macro
- Fixed Get Extended PAN ID function
- Fix Doxygen function parameters descriptions
- PAN ID changed in HA samples


08/30/2018 (3.1.x.xx)

- Simple gw application: stability fixes: handling error cases, start finding/binding after device annce received, removing device from the context. Achived stable work in the big test setup.
- Ias zone device stability fixes
- Removed unused parameter in GetLastMessage command (Messaging cluster)
- Fixed tuneeling cluster logic
- Added SE_test_sample
- Big network stability fixes: scheduling of the broadcast transmissions, removed reboot when the OOM state stays longer than a threshold, removed network address requests to the device when it change it's parent
- Fixed OTA asserts
- Fixed ZB_HA_DECLARE_TEST_DEVICE_CLUSTER_LIST macro
- Fixed Get Extended PAN ID function
- Fix Doxygen function parameters descriptions
- PAN ID changed in HA samples

08/27/2018 (3.2.x.58)
=====================
- Stability improvements NWK layer
- ZDO layer improvements
- Resolved a problem with buffer clearing on rejoin
- Fixed long installation codes decoding from strings
- Cancelling alarm for ephemeral key after it is received
- Fix reporting for multiple endpoints
- Send End Device Timeout request only for ZED device role
- Encrypt APS acks if they are intended for cluster needs encryption
- APS security frame counters storing during reboot
- Restart TC poll after reboot
- Enhanced trace throughout the stack
- Fragmentation optimizations
- Increased queue size for scheduler up to 64
- Implemented ED Timeout Request Keepalive method
- Fixes in doxygen comments, update documentation version 58


08/20/2018 (3.1.x.57)	
- Scenes cluster refactoring, scenes commands logic moved to the application
- Sample for the Scenes cluster API (application\scenes)
- Sample for the custom cluster definition (application\custom_cluster)
- Samples for supported HA devices and clusters that are not included in and HA device (application\HA_samples)
- Updated Development guide
- Updated Reference guide (doxygen generated)
- Fixed Doxygen warnings 
- Fixes in ZCL clusters API. Added mmissed attributes and commands. Fixed default attribute values. Verified with the provided samples.
- Fixed bug with maximum payload size
- Fixed endpoint device handler status
- ZCL stability fixes in reporting
- Added asserts on calling zb_zcl_ota_upgrade_insert_file and zb_zcl_ota_upgrade_remove_file in OTA macros.
- Fixed Lint warnings
- Implemented API to access Extended Pan ID
- zb_get_bdb_channel function removed form ZBOSS API
- ZDO API sample calls added in SDK samples
- Touchlink API moved to the separate file (zboss_api_tl.h)
- Updated ZB_TRACE_FILE_IDs 
- Depricated clusters sources removed from the project files
- allow_remote_policy_change flag set by default


08/03/2018 (3.1.x.56)	
- Window covering cluster refactoring, implemented missed mandatory commands and attributes. Restored the test application for that cluster.
- Existing HA samples modified to use signals, not callbacks.
- Added Thermostat sample
- Removed not mentioned in ZCLv7 clusters: calendar, tunnel, events, prepayment.h, energy_management, mdu_pairing, device_management
- Refactored ZLL API and Touchlink samples, ZLL clusters and devices removed from the SDK
- zdo_parent_annce_handler and zdo_send_parent_annce moved in ZBOSS kernel
- ZB_TIME_UNITS_TO_BEACON_INTERVAL, zb_zcl_get_ctx, zb_get_app_event removed from Doxygen doc
- depricated _RTG_ functionality removed from ZBOSS API
- Some functions in zboss_api_core.h removed from the doxygen document
- zb_apsme_get_request, zb_apsme_unbind_by_ref, Node and Power descriptor internals removed from ZBOSS API
- zb_add_simple_descriptor moved from the SDK API inside the kernel. zb_zdo_joined removed from doxygen
- Legacy API for device role selection moved inside ZBOSS kernel (zb_set_network_coordinator_role_legacy, zb_set_network_router_role_legacy, zb_set_network_ed_role_legacy)
- Fixed samples to use ZB_ZCL_REGISTER_DEVICE_CB
- Removed depricated macros for timeouts, use functions zb_set_ed_timeout, zb_set_keepalive_timeout
- Removed depricated API: ZB_AF_DECLARE_DEVICE_CTX_NO_REP_WITH_CVC ZB_AF_DECLARE_DEVICE_CTX_WITH_CVC 
- Depricated ZDO callbacks removed from ZBOSS_API (do not use zb_register_zboss_callback!)
- Simple_gw application fix: do not send toggle command to the ias devices
- Removed zb_sleep_enable/disable functions
- Fixed zero transition time in color control commands handling
- Added missed mandatory clusters (mostly Identify) in the HA device headers
- Removed unclear error codes in zboss_signal_handler
- ZCL Commands and attributes identifiers updated accoring to the ZCL7 specification, fixed naming typos
- Fixed NWK Network Status command frame to be sent secured in secured network
- Fixed Link Status frame sending: include only routers, fixed data and address 
- Fixed Doxygen warnings and errors
- Removed obsolete ZCL macro ZB_AF_SET_ENDPOINT_DESC
- Fixed ZCL color control command handling
- Fixes in ZCL macros: ZCL ZB_ZCL_SEND_COMMAND_SHORT_ALIAS, ZB_ZCL_SEND_COMMAND_SHORT_WITHOUT_ACK, zb_zcl_send_command_short_schedule
- Implemented macro with the device context declaration for two endpoints
- Fixed trace messages
- Removed checking the Maximum reporting interval threshold in 'Configure reporting' command handling
- Fixed bug: a router sometimes doesn't retransmit packets from a re-associated known device (clear Broadcast transaction records for the re-associated device)
- Fix restoring installcodes from nvram
- Fix restoring binding table from nvram
- Fixed bug with removing a device when it sends Leave signal during authentication process
- Reset all registered ZDO callbacks after leave
- Fixed Leave request handling during the authentication process
- Address conflict resolution: clear the broadcast transmittion table when the short address changes
- Fixed incorrect Leave processing while joining alternativelly secured networks
- SmartPlug application: network not closed after reboot
- Fixes to forbid radio going to sleep during receiving
- Fixed macResponseWaitTime according the specification


07/09/2018 (3.1.x.54)
- Fixed Doxygen warnings and snippet links 
- Fixed Orphan Scan termination
- Fixed compiler warnings
- Fixed ZCL macros
- Removed IAS_OBSOLETE definition
- Fixes in Sleep mode
- Fixes for R21 certification tests
- Fixed NIB reset when leaving the network after the authentication failure
- Implemented routines and API for setting Touchlink RSSI threshold/correction value
- Fixed setting pending bit for the injected leave
- Fixed PC-Lint warnings
- Implemented resuming OTA Upgrade process if an application was busy
- Fixed calculation of the neighbor path cost
- Fixes in ZDO poll logic (added wrappers)
- Applied patch for zb_osif_serial_flush declaration

06/13/2018 (3.1.x.53)
- Updated Doxygen comments and changed structure of zboss_api.chm
- Fixed path for doxygen snippets
- Fixed doxygen @param warnings
- Doxygen group 'platform' renabed to 'zb_platform'
- NWK API removed from the doxygen documentation
- Fixed Trace messages
- Fixes in ZCL API
- Fixed memory configuration constants

05/21/2018 (3.1.x.51)
- Fixed HA device declaration macros
- Configuration Tool Endpoint declaration
- Fixed Group commands handling
- Disabled depreciated NWK layer multicast
- Fixed cluster list declarations, in/out cluster numbers, added missed groups and identify clusters.
- Fixed optional attributes in the ON-OFF cluster
- Removed ZLL prefixes in the types definitions and function names
- zb_nwk_nib.h removed from the ZBOSS SDK includes
- Implemeted function to get the network role.
- Stability fixes in the stack core


04/25/2018 (3.1.x.48)
=====================
- Added check whether the right ZB library is selected at application compilation time
- Refactoring ZCL API to exclude linking unused clusters from an application
- Stability fixes


04/28/2018 (3.1.x.49)
- Added check whether the right ZB library is selected at application compilation time
- Refactoring ZCL API to exclude linking unused clusters from an application
- Stability fixes

11/04/2018 (3.1.x.47)
=====================
- Fixed APS group addressing in for APS broadcasts
- Updated copyrights

09/04/2018 (3.1.x.46)
=====================
- Defined ZBOSS single logic operation call: zboss_main_loop_iteration()
- Fixes in Touchlink
- Tread-safe scheduler API

03/26/2018 (3.1.x.45)
=====================
- Stability fixes

12/03/2018 (3.1.x.43)
=====================
- Passed MAC certification tests
- Passed set of R21 certification tests
- Fixed memory leaks with enabled memory configuration feature
- Updated Touchlink API
- Updated ZCL clusers
- Stability fixes


02/02/2018 (3.1.x.41)
=====================
- Updated ZLL&TL support
- Implemented ZBOSS memory configuration
- Stability fixes

12/26/2017 (3.1.x.40)
=====================
- Stability fixes

12/15/2017 (3.1.x.39)
=====================
- Update light_sample - add option to discover switch and bulb from coordinator

12/12/2017 (3.1.x.38)
=====================
- CRC16 code size optimization

12/07/2017 (3.1.x.37)
=====================
- Add multi-endpoint support
- Change ZCL clusters API to optimize memory usage (include only clusters that are declared in application)

11/27/2017 (3.1.x.35)
=====================
- Improve Clusters for ERL device
- Improve Finding&Binding
- Improve 24/48 bit arithmetics
- Improve documentation

11/03/2017 (3.1.x.34)
=====================
- Include SE clusters
- Add erl_interface and in_home_display samples

06/14/2016 (3.1.x.26)
=====================
- Use reduced cluster list
- Stability fixes

06/06/2017 (3.1.x.24)
=====================
- Incremented global NVRAM version and introduced dataset's version field. WARNING: NVRAM is not compatible with previous version.
- Stability fixes

04/20/2017 (3.1.x.19)
=====================
- implemented production configuration (both for stack and application)
- added tool for generating production configuration block (with example sources)

03/24/2017 (3.1.x.17)
=====================
- Added sleep functionality and sleep API
- Stability fixes

03/13/2017 (3.1.x.16)
=====================
- MAC improvements
- Added sample applications:
|- zboss_sniffer - sniffer application; added multisniffer tool in tools directrory

02/09/2017 (3.1.x.16)
---------------------
- Improved documentation.
- Stack stability fixes.
- Added sample applications:
|- ias_zone_sensor - IAS Zone sensor device
|- smart_plug - Smart Plug device

11/21/2016 (3.0.x.12)
====================
- Stability fixes on MAC layer
- Enable Traffic Dump feature
- Apply some optimization to reduce ROM size
- Switch samples to BDB api
- Use new init API for all SDK samples

10/11/2016 (3.0.x.11)
====================
- Stability fixes in nwk, mac, zdo layers
- Scheduler queue fixes - to improve packet handling while high network load
- simple_gw: extend supported device number up to 20, improve on/off toggling
- improve out of memory processing

08/08/2016 (3.0.x.10)
====================
- Include samples with old API (light_sample/)
- Stability fixes on nwk, mac layer, Finding and Binding
- Leave and Network discovery fixes

08/04/2016 (3.0.x.8)
===================
- Add simple_gw application: Simple Gateway sample

07/28/2016 (3.0.x.7)
===================
- Touchlink commissioning cluster added to BDB
- Add onoff_server application: BDB EZ-mode usage sample
- Add dimmable_light_tl application: BDB Touchlink usage sample

06/01/2016 (3.0.x.1)
===================
- Initial release with ZB 3.0: ZB PRO R21, Base Device (Network Steering, Network formation, Finding and binding)

04/27/2016 (2.2.x.1)
===================
- ZBOSS ZigBee PRO R20 release.
